#!/usr/bin/env node

const program = require('commander')
const chalk = require('chalk')
const columnify = require('columnify')

const lib = require('..')

program.parse(process.argv)

lib
  .loadConfig()
  .then(users => {
    if (users.length > 0) {
      console.log(columnify(users))
    } else {
      console.log('no users defined', chalk.green('$ git account add'))
    }
  })
  .catch(err => {
    console.log(chalk.red('cannot find config file'), err.message)
    console.log('put config on', chalk.green('~/.git-account'))
  })
